"use strict";
const DI = require('./di');
const exports_1 = require('../core/exports');
let repoSource = function (target) {
    let repo;
    if (!target) {
        return null;
    }
    Object.keys(exports_1.repositoryMap())
        .forEach(x => {
        //// TODO: Decide repository map will hold the prototype or the function
        var path;
        if (target.prototype) {
            path = target.prototype.path;
        }
        else if (target['default']) {
            path = target['default'].prototype.path;
        }
        if (path === x) {
            repo = exports_1.repositoryMap()[x].repo;
        }
        //if (repositoryMap()[x].fn === target || <Function>repositoryMap()[x].fn === target.prototype|| (target.prototype && x === target.prototype.path)) {
        //    repo = repositoryMap()[x].repo;
        //}
    });
    return repo;
};
DI.Container.addSource(repoSource);
exports.Container = DI.Container;

//# sourceMappingURL=index.js.map
